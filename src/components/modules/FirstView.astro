---
import Picture from '@components/util/ImgComponent_01.astro';
import { Image } from 'astro:assets';
import Logo from '@images/logo-briefing_01.svg';
// import Img_1 from '@images/img_01.jpg';
// import Img_1Sp from '@images/img_01_sp.jpg';
---

<div class="mainSection g-mainSection js-toggleClass" id="firstView">
  <div class="scene">
    <div class="inner">
      <div class="bgImg" id="kvVideo">
        <video muted playsinline loop preload="none" class="kvVideo">
          <source src="video/fv.mp4" type="video/mp4" />
        </video>
      </div>
      <!-- /.bgImg -->
      <div class="content">
        <div class="inner">
          <h1 class="siteTtl">
            <a href="/">
              <Image src={Logo} alt="BRIEFING" width={314} densities={[1, 2, 3]} loading="eager" />
            </a>
          </h1>
          <!-- /.siteTtl -->
        </div>
        <!-- /.inner -->
      </div>
      <!-- /.content -->
    </div>
    <!-- /.inner -->
  </div>
  <!-- /.scene -->
</div>
<!-- /.mainSection -->

<style lang="scss">
  @use 'sass:math';
  @use 'src/styles/global' as *;
  @use 'src/styles/utils' as *;
  ////////////////////
  .bgImg {
    video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }
  ////////////////////
  // @media screen and (min-height: $breakH + 1px) {
  .scene {
    height: 100vh;
  }
  // }
  ////////////////////
  .content {
    align-items: center;
  }
  ////////////////////
  .siteTtl {
    img {
      @include vwpxpc2(width, 314);
      min-width: 314px;
    }
  }
  ////////////////////
  @media screen and (min-width: $break-point-middle) {
  }
</style>

<script>
  // 768px以下なら動画ソースを切り替え
  setKv();
  function setKv() {
    var videoWrap = document.getElementById('kvVideo');
    if (!videoWrap) return;
    var video = videoWrap.querySelector('video');
    if (!video) return;
    var source = video.querySelector('source');
    if (!source) return;
    if (window.innerWidth <= 768) {
      source.src = 'video/fv_sp.mp4';
      video.load();
    }
    video.play();
  }
</script>
